<polymer-element name="windows-element" extends="window-aware-element">
  <template>
    <style>
      :host { 
        display: block;
        padding-right: 1em;
        border-right: 1px solid gray;
      }
    </style>

    <ul>
      <template repeat="{{window in windows}}">
        <li>
          <a on-click="{{windowClicked}}" data-refnum="{{window.refnum}}">{{window.refnum}} {{window.type}} {{window.name}}</a>
        </li>
      </template>
    </ul>

    <json-rpc-element auto url="{{url}}/json-rpc"
        method="getWindows"
        response="{{windows}}"
        headers="{{headers}}">
    </json-rpc-element>
  </template>
  <script>
    Polymer('windows-element', {
      windowClicked: function windowClicked(_, _, target) {
        var refnum = parseInt(target.attributes['data-refnum'].value);
        this.fire('polymer-signal', {name: 'window-changed', data: refnum});
      }
    });
  </script>
</polymer-element>